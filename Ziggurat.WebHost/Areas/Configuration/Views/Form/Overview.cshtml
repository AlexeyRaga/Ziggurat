@model Ziggurat.Definition.Client.FormInfo
@{
    ViewBag.Title = "Overviwe: " + Model.Name;
}

@section Submenu {
    @Html.Partial("_AddPropertyComponent", new Ziggurat.Web.Areas.Configuration.Models.NewPropertyModel { FormId = Model.Id })
}

@functions {
    MvcHtmlString GetPropertyRowClass(bool isUsed)
    {
        var tag = isUsed ? "" : "class='error'";
        return new MvcHtmlString(tag);
    }
}

<ul class="nav nav-tabs">
    <li class="active"><a href="#home" data-toggle="tab">@Model.Name</a></li>
    <li><a href="#properties" data-toggle="tab">Properties</a></li>
    <li><a href="#layout" data-toggle="tab">Messages</a></li>
    <li><a href="#settings" data-toggle="tab">Settings</a></li>
</ul>

<div class="tab-content">
    <div class="tab-pane active" id="home">
        <fieldset>
            <ol class="unstyled">
                <li>Name: <strong>@Model.Name</strong>
                </li>
                <li>Unique name: <strong>@Model.UniqueName</strong>
                </li>
            </ol>
        </fieldset>
    </div>
    <div class="tab-pane" id="properties">
        @Html.Action("BasicPropertyList", new { id = Model.Id })
    </div>
    <div class="tab-pane" id="layout">
        <div class="container-fluid">
            <div id="drag" class="row-fluid">
                <div class="span3">
                    <table>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="drag">First Prop</div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="drag">Second Prop</div>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                </div>
                <div class="span9">
                    <table>
                        <colgroup>
                            <col width="100" />
                            <col width="100" />
                            <col width="100" />
                        </colgroup>
                        <tbody>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td>
                                    <div class="drag">Hello World!</div>
                                </td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>
    <div class="tab-pane" id="settings">...</div>
</div>

@section Scripts {
    <script src="~/Areas/Configuration/Scripts/configuration.basicPropList.js"></script>
    <script src="~/Scripts/redips-drag-min.js"></script>

    <script type="text/javascript">
        $(function () {
            REDIPS.drag.init();
        });
    </script>
}
